<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" 
	"http://www.w3.org/TR/html4/loose.dtd">

<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE8" />
    <meta http-equiv="Pragma" content="no-cache"/> 
    <title>Geopedia Widget</title>
  
    <script type="text/javascript" language="javascript" src="SVNwidget/SVNwidget.nocache.js"></script>
    <script type="text/javascript" language="javascript">
	function OnMessageFromParent(message) {
		if (message.length > 0) {
			var parameters = processParameters(message);
		}
	}

   	function processParameters(message) {
	    var pairs = message.split(/&/);
	
	    for (var keyValuePairIndex in pairs) {
	    	gp_executeCommand(pairs[keyValuePairIndex]);
	    }
	}
   	
    window.onload = function() {       
    	var onmessage = function(e) {
      	  var data = e.data;
	      var origin = e.origin;
          gp_onPostMessage(data,origin);
      	};

        if (typeof window.addEventListener != 'undefined') {
          window.addEventListener('message', onmessage, false);
        } else if (typeof window.attachEvent != 'undefined') {
          window.attachEvent('onmessage', onmessage);
        }
      };
    
    </script>
  </head>
  <body>
    <div id="widget"> </div>
    <script type="text/javascript">
	    /*var widgetEl = document.getElementById("widget");
	    var width = 0, height = 0;
	    if( typeof( window.innerWidth ) == 'number' ) {
	        width = window.innerWidth-5;
	        height = window.innerHeight-5;
	    } else if (document.documentElement &&
	          ( document.documentElement.clientWidth || document.documentElement.clientHeight ) ) {
	          width = document.documentElement.clientWidth+2;
	          height = document.documentElement.clientHeight+2;
	    } else if( document.body && ( document.body.clientWidth || document.body.clientHeight ) ) {
	        width = document.body.clientWidth;
	        height = document.body.clientHeight;
	    }
	    widgetEl.style.width=width+"px";
	    widgetEl.style.height=height+"px";*/
    </script>
    <iframe src="javascript:''" id="__gwt_historyFrame" tabIndex='-1' style="position:absolute;width:0;height:0;border:0"></iframe>
    <noscript>
      <div style="width: 22em; position: absolute; left: 50%; margin-left: -11em; color: red; background-color: white; border: 1px solid red; padding: 4px; font-family: sans-serif">
        Your web browser must have JavaScript enabled
        in order for this application to display correctly.
      </div>
    </noscript>
   <div style="display:none;" id="markerPositionExchange"/>
  </body>
</html>
